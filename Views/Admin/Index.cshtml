@{
    ViewData["Title"] = "Admin Dashboard";
}

<div class="dashboard-container">
    <!-- Page Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="fw-bold text-primary">
            <i class="bi bi-speedometer2"></i> @ViewData["Title"]
        </h1>
        <span class="text-muted">Welcome, Admin</span>
    </div>

    <!-- Stats Cards -->
    <div class="row g-4">
        <div class="col-md-4">
            <div class="stat-card glass text-center">
                <i class="bi bi-people-fill display-5 text-primary"></i>
                <h5 class="mt-2">Total Users</h5>
                <h2 class="fw-bold">@ViewBag.TotalUsers</h2>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card glass text-center">
                <i class="bi bi-journal-bookmark-fill display-5 text-success"></i>
                <h5 class="mt-2">Total Courses</h5>
                <h2 class="fw-bold">@ViewBag.TotalCourses</h2>
            </div>
        </div>
        <div class="col-md-4">
            <div class="stat-card glass text-center">
                <i class="bi bi-hourglass-split display-5 text-warning"></i>
                <h5 class="mt-2">Pending Approval</h5>
                <h2 class="fw-bold">@ViewBag.PendingCourses</h2>
            </div>
        </div>
    </div>

    <!-- Analytics Chart -->
    <div class="mt-5 glass p-4">
        <h4 class="text-secondary mb-3"><i class="bi bi-bar-chart-line"></i> Course Analytics</h4>
        <canvas id="courseChart" height="120"></canvas>
    </div>

    <!-- Management Section -->
    <div class="mt-5">
        <h3 class="mb-4 text-secondary">
            <i class="bi bi-gear-fill"></i> Management
        </h3>
        <div class="row g-4">
            <div class="col-md-6">
                <a asp-action="ManageCourses" class="action-tile glass text-decoration-none">
                    <i class="bi bi-book display-5 text-primary"></i>
                    <h5 class="mt-2 text-dark">Manage Courses</h5>
                </a>
            </div>
            <div class="col-md-6">
                <a asp-action="ManageUsers" class="action-tile glass text-decoration-none">
                    <i class="bi bi-person-gear display-5 text-success"></i>
                    <h5 class="mt-2 text-dark">Manage Users</h5>
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Styles -->
<style>
    body {
        background: linear-gradient(135deg, #e3f2fd, #f8f9fa);
    }
    .dashboard-container {
        padding: 20px;
    }
    .glass {
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .glass:hover {
        transform: translateY(-5px);
        box-shadow: 0px 12px 25px rgba(0, 0, 0, 0.15);
    }
    .stat-card {
        padding: 30px 20px;
    }
    .action-tile {
        display: block;
        text-align: center;
        padding: 40px 20px;
        border-radius: 15px;
    }
    .action-tile:hover {
        transform: scale(1.05);
    }
</style>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    var ctx = document.getElementById('courseChart').getContext('2d');
    var courseChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Approved', 'Pending'],
            datasets: [{
                data: [@ViewBag.TotalCourses - @ViewBag.PendingCourses, @ViewBag.PendingCourses],
                backgroundColor: ['#0d6efd', '#ffc107'],
                borderWidth: 2,
                borderColor: '#fff'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { position: 'bottom' }
            }
        }
    });
</script>
