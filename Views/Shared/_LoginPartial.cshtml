@using Microsoft.AspNetCore.Identity
@using ELearningPlatform.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

<ul class="navbar-nav d-flex align-items-center">
    @if (SignInManager.IsSignedIn(User))
    {
        <li class="nav-item me-3">
            <a class="nav-link text-white fw-semibold"
               asp-area="Identity" asp-page="/Account/Manage/Index"
               title="Manage Account">
                <i class="bi bi-person-circle me-1"></i> Hello, @UserManager.GetUserName(User)!
            </a>
        </li>
        <li class="nav-item">
            <form class="d-inline" asp-area="Identity" asp-page="/Account/Logout"
                  asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })"
                  method="post">
                <button type="submit" class="btn btn-gradient logout-btn">
                    <i class="bi bi-box-arrow-right me-1"></i> Logout
                </button>
            </form>
        </li>
    }
    else
    {
        <li class="nav-item me-2">
            <a class="btn btn-outline-gradient register-btn"
               asp-area="Identity" asp-page="/Account/Register">
                <i class="bi bi-pencil-square me-1"></i> Register
            </a>
        </li>
        <li class="nav-item">
            <a class="btn btn-gradient login-btn"
               asp-area="Identity" asp-page="/Account/Login">
                <i class="bi bi-box-arrow-in-right me-1"></i> Login
            </a>
        </li>
    }
</ul>

<style>
    /* Buttons */
    .btn-gradient {
        background: linear-gradient(135deg, #007bff, #00c6ff);
        color: #fff;
        font-weight: 600;
        border: none;
        border-radius: 25px;
        padding: 6px 20px;
        transition: all 0.3s ease;
    }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 14px rgba(0, 123, 255, 0.35);
        }

    .btn-outline-gradient {
        border: 2px solid #007bff;
        color: #007bff;
        font-weight: 600;
        border-radius: 25px;
        padding: 6px 20px;
        transition: all 0.3s ease;
        background: transparent;
    }

        .btn-outline-gradient:hover {
            background: linear-gradient(135deg, #007bff, #00c6ff);
            color: #fff;
            transform: translateY(-2px);
            box-shadow: 0 6px 14px rgba(0, 123, 255, 0.35);
        }

    /* Logout Button */
    .logout-btn {
        background: #dc3545;
        color: #fff;
        font-weight: 600;
        border-radius: 25px;
        padding: 6px 20px;
        transition: all 0.3s ease;
    }

        .logout-btn:hover {
            background: #c82333;
            transform: translateY(-2px);
            box-shadow: 0 6px 14px rgba(220, 53, 69, 0.35);
        }

    /* Navbar link spacing */
    .navbar-nav .nav-item {
        display: flex;
        align-items: center;
    }
</style>
